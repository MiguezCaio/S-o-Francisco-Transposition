"0","library(tidyverse)"
"0","library(geobr)"
"0","library(sf)"
"0","library(leaflet)"
"2","Registered S3 method overwritten by 'htmlwidgets':
  method           from         
  print.htmlwidget tools:rstudio
"
"0","limpar_texto <- function(coluna) {"
"0","  # Remover espaÃ§os em branco extras, converter para maiÃºsculo e cortar se necessÃ¡rio"
"0","  coluna <- toupper(str_trim(coluna))"
"0","  coluna <- str_sub(coluna, end = -1) # Se precisar cortar algo especÃ­fico no final"
"0","  "
"0","  # FunÃ§Ã£o para remover acentos e pontuaÃ§Ãµes"
"0","  remover_acentos_pontuacoes <- function(texto) {"
"0","    texto <- iconv(texto, to = ""ASCII//TRANSLIT"")"
"0","    texto <- str_replace_all(texto, ""[[:punct:]]"", """")"
"0","    return(texto)"
"0","  }"
"0","  "
"0","  # Remover acentos e pontuaÃ§Ãµes"
"0","  coluna <- remover_acentos_pontuacoes(coluna)"
"0","  "
"0","  return(coluna)"
"0","}"
"0","bacia_sf <- st_read(dsn = ""~/GitHub/S-o-Francisco-Transposition/Data_Upload/GEOFT_BHO_HIDRONIMO"")"
"1","Reading layer `"
"1","GEOFT_BHO_HIDRONIMO"
"1","' from data source "
"1","
"
"1","  "
"1","`"
"1","C:\Users\migue\Documents\GitHub\S-o-Francisco-Transposition\Data_Upload\GEOFT_BHO_HIDRONIMO"
"1","' "
"1","
"
"1","  "
"1","using driver `"
"1","ESRI Shapefile"
"1","'"
"1","
"
"1","Simple feature collection with 14421 features and 6 fields"
"1","
"
"1","Geometry type: MULTILINESTRING
"
"1","Dimension:     XY
"
"1","Bounding box:  "
"1","xmin: -47.63626 ymin: -20.92845 xmax: -36.31221 ymax: -7.27786"
"1","
"
"1","Geodetic CRS:  SIRGAS 2000
"
"0","library(readr)"
"0","estacoes <- read_csv(""~/GitHub/S-o-Francisco-Transposition/Data_Upload/estacoes.csv"") %>%"
"0","  rename(code_muni=id_municipio)"
"2","[1mRows: [22m[34m612[39m [1mColumns: [22m[34m7[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m  (2): id_estacao, estacao
[32mdbl[39m  (4): id_municipio, latitude, longitude, altitude
[34mdate[39m (1): data_fundacao"
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"0","br_data <- geobr::read_municipality() %>%"
"0","  mutate(name_muni=limpar_texto(name_muni)) %>%"
"0","  rename(Municipio=name_muni) %>%"
"0","  select(-geom)"
"2","Using year 2010
"
"0","estacoes <-estacoes %>%"
"0","  inner_join(as.data.frame((br_data), by=""code_muni"")) %>%"
"0","  filter(abbrev_state %in% c(""CE"", ""PE"", ""PB"", ""RN""))"
"2","Joining with `by = join_by(code_muni)`"
"0","reservatorios <- dados_completos %>%"
"0","  st_as_sf(wkt = ""geometry"")"
"0","estacoes_meteorologicas_sf <- st_as_sf(estacoes, coords = c(""longitude"", ""latitude""), crs = 4326)"
"0","bacia_sf_simplified <- st_simplify(bacia_sf, preserveTopology = TRUE, dTolerance = 0.1)"
"0",""
"0","# Define o limite de distÃ¢ncia em quilÃ´metros"
"0","library(readxl)"
"0","InauguraÃ§Ãµes <- read_xlsx(""~/GitHub/S-o-Francisco-Transposition/Data_Upload/InauguraÃ§Ãµes.xlsx"")"
"0",""
"0","InauguraÃ§Ãµes$Municipio <-limpar_texto(InauguraÃ§Ãµes$Municipio)"
"0",""
"0","InauguraÃ§Ãµes<- InauguraÃ§Ãµes %>%"
"0","  inner_join(br_data, by=""code_muni"")"
"0",""
"0","InauguraÃ§Ãµes_sf <- st_as_sf(InauguraÃ§Ãµes)"
"0","InauguraÃ§Ãµes$geom[1]"
"1","Geometry set for 1 feature "
"1","
"
"1","Geometry type: MULTIPOLYGON
"
"1","Dimension:     XY
"
"1","Bounding box:  "
"1","xmin: -39.56932 ymin: -8.592793 xmax: -39.04652 ymax: -8.182784"
"1","
"
"1","Geodetic CRS:  SIRGAS 2000
"
"2","MULTIPOLYGON (((-39.37349 -8.230484, -39.37107 ...
"
"0","mapa <- leaflet() %>%"
"0","  addTiles()"
"0",""
"0","mapa <- mapa %>% "
"0","  addPolygons(data = bacia_sf_simplified, color = ""blue"", fillOpacity = 0.2, weight = 2)"
"2","Warning: sf layer has inconsistent datum (+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs).
Need '+proj=longlat +datum=WGS84'"
"0","# Adicionar as estaÃ§Ãµes meteorolÃ³gicas ao mapa"
"0","mapa <- mapa %>% "
"0","  addCircleMarkers(data = estacoes_meteorologicas_sf, popup = ~estacao, color = ""red"", radius = 5)"
"0",""
"0","# Adicionar os reservatÃ³rios ao mapa"
"0","mapa <- mapa %>% "
"0","  addCircleMarkers(data = reservatorios, color = ""green"", radius = 2)"
"0",""
"0","mapa <- mapa %>% "
"0","  addPolygons(data = InauguraÃ§Ãµes_sf, color = ""purple"", fillOpacity = 0.2, weight = 2)"
"2","Warning: sf layer has inconsistent datum (+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs).
Need '+proj=longlat +datum=WGS84'"
